systemd:
  units:
    - name: etcd-member.service
      dropins:
        - name: conf1.conf
          contents: |
            [Service]
            Environment="ETCD_SSL_DIR=/etc/ssl/certs/etcd"

etcd:
  version: 3.2.0
  name: etcd-1
  data_dir: /var/lib/etcd
  listen_client_urls:          https://0.0.0.0:2379
  advertise_client_urls:       https://127.0.0.1:2379
  listen_peer_urls:            https://127.0.0.1:2380
  initial_advertise_peer_urls: https://127.0.0.1:2380
  initial_cluster:             etcd-1=https://127.0.0.1:2380
  initial_cluster_token:       etcd-cluster-token
  initial_cluster_state:       new
  client_cert_auth:            false
  trusted_ca_file:             /etc/ssl/certs/etcd/milvus-etcd.pem
  cert_file:                   /etc/ssl/certs/etcd/milvus-etcd.crt
  key_file:                    /etc/ssl/certs/etcd/milvus-etcd.key
  peer_client_cert_auth:       false
  peer_trusted_ca_file:        /etc/ssl/certs/etcd/milvus-etcd.pem
  peer_cert_file:              /etc/ssl/certs/etcd/milvus-etcd.crt
  peer_key_file:               /etc/ssl/certs/etcd/milvus-etcd.key
  auto_compaction_retention:   1